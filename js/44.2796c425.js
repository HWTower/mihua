"use strict";(self["webpackChunkmihua"]=self["webpackChunkmihua"]||[]).push([[44],{4044:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var a=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"flex"}},[t("div",{staticStyle:{width:"20%",height:"90vh","background-color":"white"}},[t("h3",{staticStyle:{margin:"1em"}},[e._v("超级企业列表("+e._s(e.number)+")")]),t("div",{staticStyle:{display:"flex",margin:"1em"}},[t("el-input",{staticStyle:{width:"80%","margin-right":"1em",border:"1px solid rgb(233, 233, 233)","border-radius":"5px"},attrs:{type:"text",placeholder:"超级企业名称"},model:{value:e.search.ename,callback:function(t){e.$set(e.search,"ename",t)},expression:"search.ename"}}),t("el-button",{staticStyle:{width:"3em",height:"3em",display:"flex","align-items":"center","justify-content":"center"},attrs:{type:"primary"},on:{click:e.openAddDialog}},[t("span",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"1.5em"}})])],1),t("ul",{staticStyle:{width:"105%","overflow-y":"auto","max-height":"74vh","background-color":"white"}},e._l(e.data,(function(s,a){return t("li",{key:a,on:{click:function(t){return e.getOneBusiness(s.id)}}},[t("div",{staticStyle:{padding:"10px","border-bottom":"1px solid rgb(233, 233, 233)",display:"flex","align-items":"center"},on:{mouseenter:e.changeBackgroundColor,mouseleave:e.restoreBackgroundColor}},[t("div",{staticStyle:{width:"10px",height:"10px","border-radius":"50%","background-color":"rgb(56, 216, 143)","margin-right":"10px","margin-left":"10px"}}),t("div",{staticClass:"ellipsis"},[e._v(e._s(s.ename)+" ("+e._s(s.num)+")")])])])})),0)]),t("el-dialog",{attrs:{visible:e.dialogVisible,title:"添加企业",width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.newBusiness,width:"200px","label-width":"100px",rules:e.rules}},[t("el-form-item",{staticClass:"add_label",attrs:{label:"企业名称",prop:"ename"}},[t("el-input",{staticClass:"add_input",model:{value:e.newBusiness.ename,callback:function(t){e.$set(e.newBusiness,"ename",t)},expression:"newBusiness.ename"}})],1),t("el-form-item",{staticClass:"add_label",attrs:{label:"IP地址",prop:"ipstr"}},[t("el-input",{staticClass:"add_input",model:{value:e.newBusiness.ipstr,callback:function(t){e.$set(e.newBusiness,"ipstr",t)},expression:"newBusiness.ipstr"}})],1),t("el-form-item",{staticClass:"add_label",attrs:{label:"管理员姓名",prop:"adminname"}},[t("el-input",{staticClass:"add_input",model:{value:e.newBusiness.adminname,callback:function(t){e.$set(e.newBusiness,"adminname",t)},expression:"newBusiness.adminname"}})],1),t("el-form-item",{staticClass:"add_label",attrs:{label:"管理员邮箱",prop:"adminemail"}},[t("el-input",{staticClass:"add_input",model:{value:e.newBusiness.adminemil,callback:function(t){e.$set(e.newBusiness,"adminemil",t)},expression:"newBusiness.adminemil"}})],1),t("el-form-item",{staticClass:"add_label",attrs:{label:"最大数量",prop:"maxnum"}},[t("el-input",{staticClass:"add_input",model:{value:e.newBusiness.maxnum,callback:function(t){e.$set(e.newBusiness,"maxnum",e._n(t))},expression:"newBusiness.maxnum"}})],1),t("el-form-item",{staticClass:"add_label",attrs:{label:"最大并发数",prop:"maxconcurrency"}},[t("el-input",{staticClass:"add_input",model:{value:e.newBusiness.maxconcurrency,callback:function(t){e.$set(e.newBusiness,"maxconcurrency",e._n(t))},expression:"newBusiness.maxconcurrency"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addBusiness}},[e._v("确认")])],1)],1),t("div",{staticStyle:{width:"80%",height:"90vh","background-color":"#f5f5f5"}},[t("div",{staticStyle:{"background-color":"white",margin:"10px"}},[t("div",{staticStyle:{width:"100%",height:"3.5em",display:"flex","align-items":"center"}},[t("el-button-group",{staticStyle:{"margin-left":"10px"}},[t("el-button",{staticClass:"tab_button",attrs:{type:e.getButtonType("/Super")},on:{click:function(t){return e.handleButtonClick("/Super")}}},[e._v("超级企业管理")]),t("el-button",{attrs:{type:e.getButtonType("/Son")},on:{click:function(t){return e.handleButtonClick("/Son")}}},[e._v("子企业管理")])],1)],1),t("div",[t("router-view")],1)])])],1)},i=[],n=(s(4114),s(8008)),l={data(){return{data:[],number:0,dialogVisible:!1,newBusiness:{ename:"",ipstr:"",adminname:"",adminemil:"",maxnum:0,maxconcurrency:0},rules:{ename:[{required:!0,message:"请输入企业名称",trigger:"blur"}],ipstr:[{required:!0,message:"请输入IP地址",trigger:"blur"}],adminname:[{required:!0,message:"请输入管理员姓名",trigger:"blur"}],adminemail:[{required:!0,message:"请输入管理员邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],maxnum:[{required:!0,message:"请输入最大数量",trigger:"blur"},{type:"number",message:"请输入数字类型",trigger:"blur"}],maxconcurrency:[{required:!0,message:"请输入最大并发数",trigger:"blur"},{type:"number",message:"请输入数字类型",trigger:"blur"}]},search:{ename:""}}},mounted(){this.getBusiness()},watch:{"search.ename":function(e){""!=e?this.getSearches():this.getBusiness()}},methods:{getBusiness(){(0,n.J)().then((e=>{this.data=e.data.data,this.number=e.data.data.length,this.getOneBusiness(this.data[0].id)}))},openAddDialog(){this.dialogVisible=!this.dialogVisible},addBusiness(){(0,n.Iy)(this.newBusiness).then((e=>{"超级企业添加成功"==e.msg?this.$message({type:"success",message:"添加成功!"}):this.$message({message:e.msg,type:"warning"}),this.getBusiness()}))},handleButtonClick(e){this.$route.path!==e&&this.$router.push(e)},getButtonType(e){return this.$route.path===e?"primary":"default"},getOneBusiness(e){console.log(e),this.$store.dispatch("updateParams",e),localStorage.setItem("id",e)},changeBackgroundColor(e){e.target.style.backgroundColor="rgba(64, 158, 255,0.3)"},restoreBackgroundColor(e){e.target.style.backgroundColor="white"},getSearches(){(0,n.Jh)(this.search).then((e=>{this.data=e.data.data,this.number=e.data.data.length,this.getOneBusiness(this.data[0].id)}))}}},r=l,u=s(1656),o=(0,u.A)(r,a,i,!1,null,null,null),d=o.exports}}]);
//# sourceMappingURL=44.2796c425.js.map